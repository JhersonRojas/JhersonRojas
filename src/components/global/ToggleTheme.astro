---
import { IconMoon, IconSun } from "../others/Icons"

interface Props {
  className?: string
}

const { className } = Astro.props
---

<button id="toggle-theme" aria-label="Change theme button" class={className}>
  <IconMoon className="hidden size-6 fill-white dark:block" />
  <IconSun className="size-6 fill-black dark:hidden" />
</button>

<script>
  const button = document.getElementById("toggle-theme")

  if (button) {
    button.addEventListener("click", () => {
      if (localStorage.theme === "light") {
        document.documentElement.classList.add("dark")
        localStorage.theme = "dark"
      } else {
        document.documentElement.classList.remove("dark")
        localStorage.theme = "light"
      }
    })
  }
</script>
